<Window x:Class="DisplacementFilter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Displacement filter">
  <StackPanel Orientation="Horizontal">
    <StackPanel Orientation="Vertical">
      <Button Content="Create highmap" Height="46"  />
      <Button Content="Apply filter" Height="43" Click="ApplyFilter" RenderTransformOrigin="-0.922,2.091" HorizontalAlignment="Left" Width="98" />
    </StackPanel>
    <StackPanel>
      <StackPanel Orientation="Horizontal">
        <Image x:Name="HeightMap" Height="256" VerticalAlignment="Top" Width="256" Loaded="CreateCheckers"/>
        <Image x:Name="Checkers" HorizontalAlignment="Left" Height="256"  VerticalAlignment="Top" Width="256"/>
      </StackPanel>
      <Border BorderBrush="#FFE02A2A" BorderThickness="2" Height="{Binding ActualHeight, ElementName=Result, Mode=OneWay}" Width="{Binding ActualWidth, ElementName=Result, Mode=OneWay}" HorizontalAlignment="Center" >
      <Image x:Name="Result" MouseUp="CheckOrigin" VerticalAlignment="Top"/>
    </Border>
    </StackPanel>
  </StackPanel>
</Window>
